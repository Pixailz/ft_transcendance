<div class="container">
	<div class="side-bar">
		<div *ngIf="isCreatingRoom" class="popup">
			<ul class="friend-list">
				<li *ngFor="let friend of friends;">
					<button (click)="onSelectFriend(friend)">{{getDest(friend)}}</button>
				</li>
				<button class="close" (click)="onClosePopup()">
					<mat-icon fontIcon="close"></mat-icon>
				</button>
			</ul>
		</div>
		<ul class="room-list">
			<li *ngFor="let room of rooms;">
				<button (click)="onSelectChatroom(room)">{{room.room.name}} ({{room.roomId}})</button>
			</li>
		</ul>
		<app-flat-button bgColor="#a7dca3" fontIcon="add" (click)="onCreatingRoom()"></app-flat-button>
	</div>



	<div *ngIf="dest_room.roomId !== -1" class="chat-container">
		<h2>{{dest_room.room.name}} ({{dest_room.roomId}})</h2>

		<ol class="msg-list">
			<li *ngFor="let _ of messages; let i=index;">
				<span class="login" *ngIf="!isSameUser(i)">{{messages[messages.length - 1 - i].user.ftLogin}}</span>
				<span class="content">{{messages[messages.length - 1 - i].content}}</span>
			</li>
		</ol>
		<div class="txt-bar">
			<input [(ngModel)]="message" type="text" placeholder="Enter a message..." (keypress)="onPress($event)">
			<button (click)="sendMessage()">
				<mat-icon fontIcon="send"></mat-icon>
			</button>
		</div>
	</div>
</div>
<app-flat-button class="refresh" bgColor="#ffb1b1" fontIcon="refresh" (click)="onGetInfo()"></app-flat-button>
