<form class="glass" *ngIf="userForm" [formGroup]="userForm" [ngClass]="{'invalid-nickname': invalidNickname}">
	<div class="row">
		<div class="avatarcontainer">
			<app-avatar formControlName="picture"></app-avatar>
		</div>
	</div>
	<div class="container">
		<input class="login"
		type="text"
		formControlName="login"
		/>
		<div class="nickname-container">
			<input
			(keydown.space)="$event.preventDefault();"
			class="nickname"
			type="text"
			maxlength="32"
			minlength="3"
			formControlName="nickname"
			placeholder="Nickname"
			[required]="true"
			/>
			<span *ngIf="nbMissingChar > 0" class="missing-char">{{nbMissingChar}}</span>
		</div>
		<input
		type="email"
		formControlName="email"
		placeholder="Email"

		/>

		<div class="twofacontainer">
			<label for="a2f" style="margin-right: 10px;">TwoFA</label>
			<input id="twofa" class="toggle-btn" (click)="setupTwoFa()" type="checkbox" name="a2f" [checked]="userForm.value.twofa">
		</div>
		<span class="invalid-nickname" @enterInvalidNickname *ngIf="invalidNickname.length">{{invalidNickname}}</span>
		<button class="submit-btn"
			(click)="onSubmit()"
			[disabled]="!userForm.valid || submitted || invalidNickname"
			[ngClass]="{'submitted-class': submitted}"
			>
			<div class="icon-container save">
				<mat-icon fontIcon="save"></mat-icon>
			</div>
			<div class="icon-container close">
				<mat-icon fontIcon="close"></mat-icon>
			</div>
			<div class="icon-container check">
				<mat-icon fontIcon="check"></mat-icon>
			</div>
		</button>
	</div>
</form>

<div class="bg-container">
	<span [ngStyle]="{'animation-duration': math.sqrt(user.nickname.length) + 's, 5s'}" *ngFor="let _ of [].constructor(9)">{{user.nickname}}</span>
</div>
